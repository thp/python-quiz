# PyUGAT December 2017 Christmas Puzzle
#
# Hello there, Pythonistas!
#
# I found this data dump on an old floppy disk.
# It should contain a secret message, but I was
# not able to figure out how to decode it. The
# SHA1 hash of the secret message is known:

39ec20343721b40e1fca51c08872950581fbf4c4

# I was able to reconstruct the data in 8 blocks
# of 256 bytes each, see below. However, due to
# floppy drive failure, the order of the blocks
# is very likely wrong. The blocks themselves
# are verified to contain the data in the right
# order, but I don't know how the blocks should
# be ordered. If you order them in the right way,
# the SHA1 hash should match.

# Hint: If you decode the hex blocks into bytes,
# and then try different block orderings and
# compare the SHA1 hash of the bytes with the
# value from above, maybe there is still a way
# to reconstruct and find the secret message?

74 28 33 32 30 2b 33 32 30 2a 73 69 6e 28 6f 66
66 2a 31 33 2e 33 37 2b 6b 29 2b 78 78 29 2c 69
6e 74 28 31 30 30 2b 31 30 30 2a 63 6f 73 28 6f
66 66 2a 31 37 2e 32 31 2b 6b 29 2b 79 79 29 29
2c 69 3e 66 77 62 65 67 29 0a 20 20 20 20 64 72
61 77 2e 70 6f 6c 79 67 6f 6e 28 73 7a 2c 63 61
2c 5b 28 78 78 2b 78 6f 66 66 28 29 2f 35 2c 79
6f 66 66 28 29 2f 32 2b 32 30 30 2b 33 30 2a 73
69 6e 28 78 78 29 29 66 6f 72 20 78 78 20 69 6e
20 72 61 6e 67 65 28 2d 31 30 2c 37 35 30 2c 31
30 29 5d 2b 74 61 69 6c 29 3b 73 7a 2e 62 6c 69
74 28 0a 20 20 20 20 66 31 2e 72 65 6e 64 65 72
28 73 74 28 27 5a 72 65 65 6c 20 50 75 65 76 66
67 7a 6e 66 21 27 29 2c 54 72 75 65 2c 28 69 31
2c 69 31 2c 69 31 29 29 2c 28 78 6f 30 2d 35 2c
33 35 30 2b 33 30 29 29 3b 5b 73 7a 2e 62 6c 69

69 2d 35 38 30 29 29 2c 6c 61 6d 62 64 61 3a 6d
61 78 28 2d 32 30 30 2c 6d 69 6e 28 30 2c 31 32
30 30 2d 69 29 29 2c 6c 61 6d 62 64 61 20 78 2c
79 3a 28 78 2b 78 6f 66 66 28 29 2c 79 2b 79 6f
66 66 28 29 29 0a 73 63 2c 64 64 72 6e 67 3d 6c
61 6d 62 64 61 20 73 63 6c 2c 70 68 69 3a 28 73
63 6c 2a 73 69 6e 28 70 68 69 29 2c 73 63 6c 2a
63 6f 73 28 70 68 69 29 29 2c 6c 61 6d 62 64 61
20 6f 2c 69 3a 28 28 6b 2c 79 29 66 6f 72 20 6b
20 69 6e 20 72 61 6e 67 65 28 6f 29 66 6f 72 20
79 20 69 6e 20 72 61 6e 67 65 28 69 29 29 0a 73
74 30 2c 78 6f 30 2c 66 77 62 65 67 2c 73 74 2c
72 3d 31 36 30 30 2c 33 32 36 2c 38 32 30 2c 6c
61 6d 62 64 61 20 62 74 73 3a 27 27 2e 6a 6f 69
6e 28 74 68 69 73 2e 64 2e 67 65 74 28 63 2c 63
29 66 6f 72 20 63 20 69 6e 20 62 74 73 29 2c 6c

69 73 74 3d 64 69 76 6d 6f 64 28 69 2c 31 30 30
29 3b 69 31 2c 69 32 3d 6d 69 6e 28 32 35 35 2c
6d 61 78 28 33 30 2c 69 2d 33 30 2d 73 74 30 29
29 2c 6d 69 6e 28 31 38 30 2c 6d 61 78 28 33 30
2c 69 2d 36 30 2d 73 74 30 29 29 0a 20 20 20 20
66 6f 72 20 6b 2c 79 20 69 6e 20 64 64 72 6e 67
28 34 2c 33 36 29 3a 0a 20 20 20 20 20 20 20 20
28 78 78 2c 79 79 29 2c 28 6b 31 2c 6b 32 29 3d
73 63 28 64 69 73 74 2a 73 69 6e 28 28 69 2b 6b
2b 79 29 2f 34 30 29 2c 79 2a 31 30 2f 31 38 30
2a 70 69 2b 69 2a 32 29 2c 73 63 28 32 33 30 2f
6d 61 78 28 31 2c 64 69 73 74 2f 33 30 29 2c 28
6f 66 66 2b 6b 29 2a 32 33 29 3b 63 69 72 63 6c
65 28 28 61 62 73 28 6b 31 29 2c 0a 20 20 20 20
20 20 20 20 61 62 73 28 6d 69 6e 28 6b 31 2c 6b
32 29 29 2c 61 62 73 28 6b 32 29 29 2c 28 69 6e

74 28 73 75 72 2c 28 78 6f 2c 69 6e 74 28 33 35
30 2b 38 30 2b 32 2a 73 69 6e 28 69 2f 31 30 2e
0a 20 20 20 20 2b 78 6f 29 29 29 29 66 6f 72 20
78 6f 2c 73 75 72 20 69 6e 28 6c 61 6d 62 64 61
20 73 75 72 73 3a 5b 28 78 6f 30 2b 73 75 6d 28
73 2e 67 65 74 5f 77 69 64 74 68 28 29 66 6f 72
20 73 20 69 6e 20 73 75 72 73 5b 3a 69 5d 29 2c
73 75 72 29 66 6f 72 20 69 2c 73 75 72 20 69 6e
20 65 6e 75 6d 65 72 61 74 65 28 73 75 72 73 29
5d 29 28 0a 20 20 20 20 5b 66 32 2e 72 65 6e 64
65 72 28 63 2c 54 72 75 65 2c 20 28 69 32 2c 69
32 2c 69 32 29 29 66 6f 72 20 63 20 69 6e 20 73
74 28 27 73 65 62 7a 20 67 75 72 20 43 6c 48 54
4e 47 27 29 5d 29 5d 2b 5b 64 72 61 77 2e 61 61
6c 69 6e 65 28 73 7a 2c 63 62 2c 70 28 78 28 79
2d 6a 29 2c 79 2d 6a 29 2c 70 28 78 28 79 29 2c

79 29 29 0a 20 20 20 20 66 6f 72 20 79 20 69 6e
20 72 61 6e 67 65 28 6d 69 6e 28 69 2a 35 2c 34
38 30 29 29 5d 2b 5b 63 69 72 63 6c 65 28 63 63
2c 70 28 78 28 79 2d 6a 29 2c 79 29 29 66 6f 72
20 79 20 69 6e 20 72 61 6e 67 65 28 6d 69 6e 28
28 69 2d 32 30 30 29 2a 33 2c 34 38 30 29 29 5d
2b 5b 28 64 72 61 77 2e 72 65 63 74 28 73 7a 2c
63 64 2c 0a 20 20 20 20 72 28 78 28 79 2d 6a 29
2c 79 2d 6a 2c 31 30 2c 6a 29 29 2c 64 72 61 77
2e 65 6c 6c 69 70 73 65 28 73 7a 2c 63 65 2c 72
28 78 28 79 2d 6a 29 2b 69 25 32 2c 79 2d 31 2e
35 2a 6a 2c 31 30 2c 6a 2f 32 29 29 69 66 20 69
3e 35 35 30 20 65 6c 73 65 20 30 29 66 6f 72 20
79 20 69 6e 20 72 61 6e 67 65 28 31 34 30 2c 6d
69 6e 28 0a 20 20 20 20 28 69 2d 33 30 30 29 2a
32 2c 34 38 30 29 2c 38 30 29 5d 3b 64 72 61 77

2e 70 6f 6c 79 67 6f 6e 28 73 7a 2c 63 66 2c 5b
28 33 32 30 2b 78 6f 66 66 28 29 2b 28 31 35 2b
32 35 2a 28 6b 25 32 3d 3d 30 29 29 2a 73 69 6e
28 30 2e 39 2b 6b 2a 70 69 2f 35 29 2c 79 6f 66
66 28 29 2d 33 30 2b 28 31 35 2b 32 35 2a 28 6b
25 32 0a 20 20 20 20 3d 3d 30 29 29 2a 63 6f 73
28 30 2e 39 2b 6b 2a 70 69 2f 35 29 29 20 66 6f
72 20 6b 20 69 6e 20 72 61 6e 67 65 28 31 30 29
5d 29 3b 64 70 79 2e 73 65 74 5f 63 61 70 74 69
6f 6e 28 73 74 28 27 46 72 70 65 72 67 20 5a 72
66 66 6e 74 72 20 2f 2f 20 67 75 63 20 2f 2f 20
32 30 31 37 2d 31 32 2d 31 39 27 29 29 3b 28 64
70 79 2e 0a 20 20 20 20 66 6c 69 70 28 29 69 66
20 70 79 67 61 6d 65 2e 65 76 65 6e 74 2e 70 6f
6c 6c 28 29 2e 74 79 70 65 21 3d 31 32 20 65 6c
73 65 20 73 79 73 2e 65 78 69 74 28 30 29 29 0a

61 6d 62 64 61 20 78 2c 79 2c 77 2c 68 3a 70 28
78 2c 79 29 2b 28 77 2c 68 29 0a 63 61 2c 63 62
2c 63 63 2c 63 64 2c 63 65 2c 63 66 3d 28 33 30
2c 33 30 2c 33 30 29 2c 28 32 30 2c 32 33 30 2c
30 29 2c 28 32 35 30 2c 32 33 30 2c 32 30 30 29
2c 28 32 35 30 2c 33 30 2c 30 29 2c 28 32 35 30
2c 32 31 30 2c 30 29 2c 28 32 34 30 2c 32 33 30
2c 30 29 0a 63 69 72 63 6c 65 2c 73 7a 3d 6c 61
6d 62 64 61 20 63 2c 70 2c 64 3d 54 72 75 65 3a
64 72 61 77 2e 63 69 72 63 6c 65 28 73 7a 2c 63
2c 70 2c 32 29 69 66 20 64 20 65 6c 73 65 20 30
2c 64 70 79 2e 73 65 74 5f 6d 6f 64 65 28 28 36
34 30 2c 34 38 30 29 29 0a 66 6f 72 20 69 20 69
6e 20 72 61 6e 67 65 28 38 34 37 30 30 30 29 3a
23 20 74 68 70 0a 20 20 20 20 73 7a 2e 66 69 6c
6c 28 28 30 2c 30 2c 30 29 29 3b 6f 66 66 2c 64

69 6d 70 6f 72 74 20 70 79 67 61 6d 65 2c 74 68
69 73 2c 73 79 73 3b 66 72 6f 6d 20 6d 61 74 68
20 69 6d 70 6f 72 74 20 73 69 6e 2c 63 6f 73 2c
70 69 3b 70 79 67 61 6d 65 2e 66 6f 6e 74 2e 69
6e 69 74 28 29 3b 66 31 2c 66 32 3d 5b 70 79 67
61 6d 65 2e 66 6f 6e 74 2e 53 79 73 46 6f 6e 74
28 27 73 61 6e 73 27 2c 73 29 66 6f 72 20 73 0a
69 6e 28 33 36 2c 32 32 29 5d 3b 6a 2c 78 2c 74
61 69 6c 2c 64 72 61 77 2c 64 70 79 3d 34 35 2c
6c 61 6d 62 64 61 20 79 3a 69 6e 74 28 33 32 30
2b 79 2f 32 2a 63 6f 73 28 79 2f 31 30 29 29 2c
5b 28 36 34 30 2c 34 38 30 29 2c 28 30 2c 34 38
30 29 5d 2c 70 79 67 61 6d 65 2e 64 72 61 77 2c
70 79 67 61 6d 65 2e 64 69 73 70 6c 61 79 0a 79
6f 66 66 2c 78 6f 66 66 2c 70 3d 6c 61 6d 62 64
61 3a 6d 69 6e 28 32 32 30 2c 6d 61 78 28 30 2c
